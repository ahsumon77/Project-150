#include "iGraphics.h"
#include<iostream>
using namespace std;


int scr_height, scr_width;
int bird_x, bird_y;
int r, g, b;
int dx, dy;
int bow_x, bow_y;
int bow_dir;
int arrow_dir;
int arrow_x, arrow_y;
int release_arrow;
int num_arrow;

int ind;
int kill;
char* str = "Score :";
char* scr = "00";
bool sound_on;
int tail_y;
int up_peak_x, up_peak_y;
int down_peak_x, down_peak_y;
int peak_open;
int string_potential;
int arrow_speed;
int string_x, string_y;
int obstacle_1_x, obstacle_2_x;
int obstacle_length, obstacle_width;
int ob_1_dif, ob_2_dif;
int bird_gone, bird_cycle;
int obs_1_height, obs_2_height;
bool obstacle_on;
char score[200][10] = { "0", "1", "2", "3", "4", "5", "6", "7", "8", "9", "10", "11", "12", "13", "14", "15", "16", "17", "18", "19", "20",
                        "21", "22", "23", "24", "25", "26", "27", "28", "29", "30", "31", "32", "33", "34", "35", "36", "37", "38", "39", "40",
                        "41", "42", "43", "44", "45", "46", "47", "48", "49", "50", "51", "52", "53", "54", "55", "56", "57", "58", "59", "60", 
                        "61", "62", "63", "64", "65", "66", "67", "68", "69", "70", "71", "72", "73", "74", "75", "76", "77", "78", "79", "80", 
      "81", "82", "83", "84", "85", "86", "87", "88", "89", "90", "91", "92", "93", "94", "95", "96", "97", "98", "99", "100", 
      "101", "102", "103", "104", "105", "106", "107", "108", "109", "110", "111", "112", "113", "114", "115", "116", "117", "118", "119", "120",
      "121", "122", "123", "124", "125", "126", "127", "128", "129", "130", "131", "132", "133", "134", "135", "136", "137", "138", "139", "140",
      "141", "142", "143", "144", "145", "146", "147", "148", "149", "150", "151", "152", "153", "154", "155", "156", "157", "158", "159", "160",
      "161", "162", "163", "164", "165", "166", "167", "168", "169", "170", "171", "172", "173", "174", "175", "176", "177", "178", "179", "180",
      "181", "182", "183", "184", "185", "186", "187", "188", "189", "190", "191", "192", "193", "194", "195", "196", "197", "198", "199"};



int special_bird, gold, devil;
int write_x, write_y;

bool start;
bool instruction;
bool dev;
bool pause;
int box;
char ok[100] = { "photos\\1.BMP" };


void environment()
{
 box = 0;
 start = false;
 instruction = false;
 dev = false;
 pause = false;

 string_potential = 0;
 kill = 0;
 bird_gone = 0;

 bird_x = 0;
 bird_y = 0;
 ind = 0;
 scr_height = 1050;
 scr_width = 1910;
 num_arrow = 5;
 dx = 5;
 dy = 2;
 bow_x = -700;
 
 arrow_x = -700;
 arrow_y = 0;
 bow_dir = 1;
 arrow_dir = bow_dir;

 obstacle_2_x = 810;
 obstacle_length = 200;
 obstacle_width = 20;
 ob_1_dif = 10;
 ob_2_dif = 15;
 bird_cycle = 40;
 obs_1_height = 500;
 obs_2_height = 530;
 obstacle_on = true;
 gold = 3; 
 devil = 2;
 write_x = write_y = 700;
 tail_y = 15;
 
}


void iDraw()
{
 
 iClear();
 //iShowBMP2(0, 0, ok, 0);
 if (start == false && dev == false && instruction == false)
 {

  iSetColor(150, 150, 255);
  iFilledRectangle(0, 0, 1910, 1050);
  if (box == 1)
  {
   iSetColor(0, 255, 0);
   iFilledRectangle(835, 665, 210, 90);
  }
  else if (box == 2)
  {
   iSetColor(0, 255, 255);
   iFilledRectangle(785, 495, 310, 90);
  }
  else if (box == 3)
  {
   iSetColor(255, 0, 255);
   iFilledRectangle(765, 295, 360, 90);
  }

  iSetColor(0, 0, 0);
  iFilledRectangle(840,670,200, 80);
  iSetColor(0,rand() % 255,0);

  if (pause)
  {
   iText(880, 700, "CONTINUE", GLUT_BITMAP_TIMES_ROMAN_24);
  }
  else
  {
   iText(900, 700, "START", GLUT_BITMAP_TIMES_ROMAN_24);
  }

  
  iSetColor( 0, 0, 0);
  iFilledRectangle(790, 500, 300, 80);
  iSetColor(0, 255, 255);
  iText(855, 530, "ABOUT  GAME", GLUT_BITMAP_TIMES_ROMAN_24);
  
  iSetColor(0,  0, 0);
  iFilledRectangle(770, 300, 350, 80);
  iSetColor(255, 0, 255);
  iText(830, 330, "ABOUT  DEVELOPER", GLUT_BITMAP_TIMES_ROMAN_24);

  iSetColor(255, 255, 0);
  //iEllipse(bird_x + 190, bird_y + 900, 23, 23);
  
  iLine(bird_x + 205, bird_y + 885, bird_x + 215, bird_y + 882);

  iLine(bird_x + 210, bird_y + 895, bird_x + 215, bird_y + 882);
